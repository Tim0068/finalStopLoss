<!DOCTYPE html> 
<html>
<head>
<meta charset="UTF-8">
<title>jQuery Mobile Web App</title>
<link href="jquery-mobile/jquery.mobile-1.0a3.min.css" rel="stylesheet" type="text/css"/>
<script src="jquery-mobile/jquery-1.5.min.js" type="text/javascript"></script>
<script src="jquery-mobile/jquery.mobile-1.0a3.min.js" type="text/javascript"></script>

<script src="/cordova.js" type="text/javascript"></script>
<script type="text/javascript" src="format.20110630-1100.min.js"></script>
</head> 
<body> 

<script type="text/javascript">

	var accBalance
  var risk
  
  
  function myFunction(){
	 accBalance = document.getElementById("accBalance").value;
	 	if(isNaN(accBalance)){
			accBalance=accBalance.replace(/\D/g,"");
		}
	risk = accBalance*0.02;
	 document.getElementById("risk").value=risk;
	 	
	  
	 document.getElementById("accBalance").value =format( "#,##0.####", accBalance);
	 document.getElementById("risk").value =format( "#,##0.####", risk); 	
					  				
  }

 
  
	
  </script>
<div data-role="page" id="page">
	<div data-role="header">
		<h1>Page One</h1>
	</div>
	<div data-role="content">	
		<ul data-role="listview">
			<li><a href="#page2">Page Two</a></li>
            <li><a href="#page3">Page Three</a></li>
			<li><a href="#page4">Page Four</a></li>
		</ul>		
	</div>
	<div data-role="footer">
		<h4>Page Footer</h4>
	</div>
</div>

<div data-role="page" id="page2">
	<div data-role="header">
		<h1>Stop Loss</h1>
       
	</div>
	<div data-role="content">
      <div class="ui-grid-a">
        <div class="ui-block-a">Balance</div>
       <div class="ui-block-b"><input type="number"   onBlur="currencyFormat(accBalance)"  onChange="myFunction()" id="accBalance" pattern="[0-9.]"/></div>
        <div class="ui-block-a">Risk</div>
        <div class="ui-block-b"><input type="number"  id="risk" disabled="disabled"/></div>
        <div class="ui-block-a">Buy @</div>
        <div class="ui-block-b"><input type="number"  pattern="[0-9.]" onFocus="eraseFunction()"  onChange="buyAtFunction()"id="buyAt" /></div>
        <div class="ui-block-a">Stop @</div>
        <div class="ui-block-b"><input type="number" onChange="stopAtFunction()" onFocus="eraseStopFunction()" id="stopAt" pattern="[0-9.]"/></div>
        <div class="ui-block-a">N to buy</div>
        <div class="ui-block-b"><input type="number"  id="toBuy" /></div>
        <div class="ui-block-a">Sell @</div>
        <div class="ui-block-b"><input type="number"  id="sellAt" onFocus="eraseSell()" onChange="result()"/></div>
        <div class="ui-block-a">Result</div>
        <div class="ui-block-b"><input type="number"  pattern="[0-9.]" id="result" /></div>
      
	<p  id="demo">here</p>
</div>

<!--<input type="number" onBlur="myFunction()" id="accBalance" />-->
<div data-role="page" id="page3">
	<div data-role="header">
		<h1>Page Three</h1>
	</div>
	<div data-role="content">	
		Content		
	</div>
	<div data-role="footer">
		<h4>Page Footer</h4>
	</div>
</div>

<div data-role="page" id="page4">
	<div data-role="header">
		<h1>Page Four</h1>
	</div>
	<div data-role="content">	
		Content		
	</div>
	<div data-role="footer">
		<h4>Page Footer</h4>
	</div>
</div>

</body>
</html>